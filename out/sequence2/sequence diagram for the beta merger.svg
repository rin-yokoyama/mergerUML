<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2510px" preserveAspectRatio="none" style="width:1282px;height:2510px;" version="1.1" viewBox="0 0 1282 2510" width="1282px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rzprloqldbs7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="271" x="501" y="24.5332">sequence diagram for the beta merger</text><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="2378.6797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="32" y="81.2188"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="2272.625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="150" y="147.9219"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="178.2734"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="586.8438"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="1025.7656"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="1159.5234"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="2181.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="401" y="238.9766"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1894.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522" y="556.4922"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1803.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="711" y="647.5469"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1425.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="838" y="965.0625"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1394.7813" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="946" y="995.4141"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1139.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1038.5" y="1220.2266"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="336.6719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1154.5" y="1901.1172"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="432" x="50" y="314.6797"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="412" x="60" y="370.3828"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="370" x="422" y="723.25"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="350" x="432" y="778.9531"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="868.8047" style="stroke: #000000; stroke-width: 2.0;" width="1214" x="46" y="1386.9844"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="297.6719" style="stroke: #000000; stroke-width: 2.0;" width="858" x="56" y="1412.3359"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="145.7578" style="stroke: #000000; stroke-width: 2.0;" width="415" x="66" y="1511.0625"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="858" x="56" y="1694.1719"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="205.7813" style="stroke: #000000; stroke-width: 2.0;" width="498" x="752" y="1916.1172"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="173.4297" style="stroke: #000000; stroke-width: 2.0;" width="478" x="762" y="1941.4688"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="64.5391" style="stroke: #000000; stroke-width: 2.0;" width="458" x="772" y="2027.5234"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="458" x="772" y="2076.2266"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="478" x="762" y="2099.0625"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="94.8906" style="stroke: #000000; stroke-width: 2.0;" width="458" x="772" y="2135.8984"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="458" x="772" y="2214.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="155" x2="155" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="292" x2="292" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="406" x2="406" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="527" x2="527" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="716" x2="716" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="843" x2="843" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="951" x2="951" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1043" x2="1043" y1="71.2188" y2="2468.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1159" x2="1159" y1="71.2188" y2="2468.8984"/><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="8" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="15" y="56.1426">main()</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="8" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="15" y="2489.4316">main()</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="76" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="83" y="56.1426">MergedBetaTSScanor</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="76" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="83" y="2489.4316">MergedBetaTSScanor</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="244" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="251" y="56.1426">YamlReader</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="244" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="251" y="2489.4316">YamlReader</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="350" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="357" y="56.1426">TTreeReader2</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="350" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="357" y="2489.4316">TTreeReader2</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="472" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="479" y="56.1426">BetaTSScanor</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="472" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="479" y="2489.4316">BetaTSScanor</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="660" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="667" y="56.1426">TTreeReader1</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="660" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="667" y="2489.4316">TTreeReader1</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="782" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="789" y="56.1426">BetaTreeMerger</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="782" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="789" y="2489.4316">BetaTreeMerger</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="914" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="921" y="56.1426">YSOMap</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="914" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="921" y="2489.4316">YSOMap</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="998" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1005" y="56.1426">OutputTree</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="998" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1005" y="2489.4316">OutputTree</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1099" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1106" y="56.1426">OutputTreeData</text><rect fill="#FEFECE" filter="url(#f1rzprloqldbs7)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1099" y="2467.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1106" y="2489.4316">OutputTreeData</text><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="2378.6797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="32" y="81.2188"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="2272.625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="150" y="147.9219"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="178.2734"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="586.8438"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="1025.7656"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="287" y="1159.5234"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="2181.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="401" y="238.9766"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1894.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522" y="556.4922"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1803.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="711" y="647.5469"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1425.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="838" y="965.0625"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1394.7813" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="946" y="995.4141"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="1139.6172" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1038.5" y="1220.2266"/><rect fill="#FFFFFF" filter="url(#f1rzprloqldbs7)" height="336.6719" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1154.5" y="1901.1172"/><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1267" x="3" y="102.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="102.3945" y2="102.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="105.3945" y2="105.3945"/><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="212" x="530.5" y="91.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194" x="536.5" y="108.7139">Scanning merged implant tree</text><polygon fill="#A80036" points="138,143.9219,148,147.9219,138,151.9219,142,147.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="144" y1="147.9219" y2="147.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="49" y="143.0654">Configure()</text><polygon fill="#A80036" points="275,174.2734,285,178.2734,275,182.2734,279,178.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160" x2="281" y1="178.2734" y2="178.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="167" y="173.417">create</text><polygon fill="#A80036" points="171,204.625,161,208.625,171,212.625,167,208.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="165" x2="291" y1="208.625" y2="208.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="177" y="203.7686">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="199.625" y2="217.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="217.625" y2="199.625"/><polygon fill="#A80036" points="389,234.9766,399,238.9766,389,242.9766,393,238.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160" x2="395" y1="238.9766" y2="238.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="167" y="234.1201">Open</text><polygon fill="#A80036" points="389,265.3281,399,269.3281,389,273.3281,393,269.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160" x2="395" y1="269.3281" y2="269.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="167" y="264.4717">SetEntriesRange()</text><polygon fill="#A80036" points="138,295.6797,148,299.6797,138,303.6797,142,299.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="144" y1="299.6797" y2="299.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="49" y="294.8232">Scan()</text><path d="M50,314.6797 L123,314.6797 L123,322.6797 L113,332.6797 L50,332.6797 L50,314.6797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="432" x="50" y="314.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="65" y="329.1748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="138" y="328.0986">[while tree_reader_.Next()]</text><polygon fill="#A80036" points="389,351.3828,399,355.3828,389,359.3828,393,355.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160" x2="395" y1="355.3828" y2="355.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="167" y="350.5264">GetEntry()</text><path d="M60,370.3828 L121,370.3828 L121,378.3828 L111,388.3828 L60,388.3828 L60,370.3828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="412" x="60" y="370.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="75" y="384.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="210" x="136" y="383.8018">[if ( MergedBetaTSScanor::IsInGate() )]</text><polygon fill="#A80036" points="171,407.0859,161,411.0859,171,415.0859,167,411.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="165" x2="400" y1="411.0859" y2="411.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="177" y="406.2295">GetTS(), GetCurrentEntry()</text><path d="M70,424.0859 L70,466.0859 L235,466.0859 L235,434.0859 L225,424.0859 L70,424.0859 " fill="#FBFB77" filter="url(#f1rzprloqldbs7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M225,424.0859 L225,434.0859 L235,434.0859 L225,424.0859 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="76" y="442.5811">emplace (ts, i_entry) pair</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="76" y="458.9326">to the map</text><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1267" x="3" y="510.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="510.9648" y2="510.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="513.9648" y2="513.9648"/><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="248" x="512.5" y="499.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="230" x="518.5" y="517.2842">Scanning Pspmt tree for beta events</text><polygon fill="#A80036" points="510,552.4922,520,556.4922,510,560.4922,514,556.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="516" y1="556.4922" y2="556.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="49" y="551.6357">Configure()</text><polygon fill="#A80036" points="308,582.8438,298,586.8438,308,590.8438,304,586.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="521" y1="586.8438" y2="586.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="314" y="581.9873">create</text><polygon fill="#A80036" points="510,613.1953,520,617.1953,510,621.1953,514,617.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="292" x2="516" y1="617.1953" y2="617.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="299" y="612.3389">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="608.1953" y2="626.1953"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="626.1953" y2="608.1953"/><polygon fill="#A80036" points="699,643.5469,709,647.5469,699,651.5469,703,647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="705" y1="647.5469" y2="647.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="539" y="642.6904">Open</text><polygon fill="#A80036" points="699,673.8984,709,677.8984,699,681.8984,703,677.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="705" y1="677.8984" y2="677.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="539" y="673.042">SetEntriesRange()</text><polygon fill="#A80036" points="510,704.25,520,708.25,510,712.25,514,708.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="516" y1="708.25" y2="708.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="49" y="703.3936">Scan()</text><path d="M422,723.25 L495,723.25 L495,731.25 L485,741.25 L422,741.25 L422,723.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="370" x="422" y="723.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="437" y="737.7451">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="510" y="736.6689">[while tree_reader_.Next()]</text><polygon fill="#A80036" points="699,759.9531,709,763.9531,699,767.9531,703,763.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="705" y1="763.9531" y2="763.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="539" y="759.0967">GetEntry()</text><path d="M432,778.9531 L493,778.9531 L493,786.9531 L483,796.9531 L432,796.9531 L432,778.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="350" x="432" y="778.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="447" y="793.4482">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167" x="508" y="792.3721">[if ( BetaTSScanor::IsInGate() )]</text><polygon fill="#A80036" points="543,815.6563,533,819.6563,543,823.6563,539,819.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="537" x2="710" y1="819.6563" y2="819.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="549" y="814.7998">GetTS(), GetCurrentEntry()</text><path d="M442,832.6563 L442,874.6563 L607,874.6563 L607,842.6563 L597,832.6563 L442,832.6563 " fill="#FBFB77" filter="url(#f1rzprloqldbs7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M597,832.6563 L597,842.6563 L607,842.6563 L597,832.6563 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="448" y="851.1514">emplace (ts, i_entry) pair</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="448" y="867.5029">to the map</text><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1267" x="3" y="919.5352"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="919.5352" y2="919.5352"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="922.5352" y2="922.5352"/><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="260" x="506.5" y="908.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="242" x="512.5" y="925.8545">Merging implant events to beta events</text><polygon fill="#A80036" points="826,961.0625,836,965.0625,826,969.0625,830,965.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="832" y1="965.0625" y2="965.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="49" y="960.2061">create</text><polygon fill="#A80036" points="934,991.4141,944,995.4141,934,999.4141,938,995.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="940" y1="995.4141" y2="995.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="855" y="990.5576">create</text><polygon fill="#A80036" points="308,1021.7656,298,1025.7656,308,1029.7656,304,1025.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="945" y1="1025.7656" y2="1025.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="314" y="1020.9092">create</text><polygon fill="#A80036" points="934,1052.1172,944,1056.1172,934,1060.1172,938,1056.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="292" x2="940" y1="1056.1172" y2="1056.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="299" y="1051.2607">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="1047.1172" y2="1065.1172"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="1065.1172" y2="1047.1172"/><path d="M881,1069.1172 L881,1128.1172 L1016,1128.1172 L1016,1079.1172 L1006,1069.1172 L881,1069.1172 " fill="#FBFB77" filter="url(#f1rzprloqldbs7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1006,1069.1172 L1006,1079.1172 L1016,1079.1172 L1006,1069.1172 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="887" y="1087.6123">creates a vector of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="887" y="1103.9639">YSOPositionData</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="887" y="1120.3154">for all the segments</text><polygon fill="#A80036" points="308,1155.5234,298,1159.5234,308,1163.5234,304,1159.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="302" x2="837" y1="1159.5234" y2="1159.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="314" y="1154.667">create</text><polygon fill="#A80036" points="826,1185.875,836,1189.875,826,1193.875,830,1189.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="292" x2="832" y1="1189.875" y2="1189.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="299" y="1185.0186">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="1180.875" y2="1198.875"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="283" x2="301" y1="1198.875" y2="1180.875"/><polygon fill="#A80036" points="1026.5,1216.2266,1036.5,1220.2266,1026.5,1224.2266,1030.5,1220.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1032.5" y1="1220.2266" y2="1220.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="855" y="1215.3701">Create</text><polygon fill="#A80036" points="1026.5,1246.5781,1036.5,1250.5781,1026.5,1254.5781,1030.5,1250.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1032.5" y1="1250.5781" y2="1250.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="855" y="1245.7217">Branch()</text><polygon fill="#A80036" points="826,1276.9297,836,1280.9297,826,1284.9297,830,1280.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="832" y1="1280.9297" y2="1280.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="49" y="1276.0732">Merge()</text><polygon fill="#A80036" points="543,1307.2813,533,1311.2813,543,1315.2813,539,1311.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="837" y1="1311.2813" y2="1311.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="549" y="1306.4248">SetBranchAddress()</text><polygon fill="#A80036" points="543,1337.6328,533,1341.6328,543,1345.6328,539,1341.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="837" y1="1341.6328" y2="1341.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="549" y="1336.7764">map1 = GetIEntryMap()</text><polygon fill="#A80036" points="826,1367.9844,836,1371.9844,826,1375.9844,830,1371.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="532" x2="832" y1="1371.9844" y2="1371.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="539" y="1367.1279">Give the ts:i_entry map</text><path d="M46,1386.9844 L119,1386.9844 L119,1394.9844 L109,1404.9844 L46,1404.9844 L46,1386.9844 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="868.8047" style="stroke: #000000; stroke-width: 2.0;" width="1214" x="46" y="1386.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="61" y="1401.4795">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="250" x="134" y="1400.4033">[loop over the pspmt implant events (input1)]</text><path d="M56,1412.3359 L117,1412.3359 L117,1420.3359 L107,1430.3359 L56,1430.3359 L56,1412.3359 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="297.6719" style="stroke: #000000; stroke-width: 2.0;" width="858" x="56" y="1412.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="71" y="1426.8311">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="282" x="132" y="1425.7549">[if map2 buffer is empty, read all entries in the next</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="132" y="1439.5908">"ScanWindow" from the input2 tree]</text><polygon fill="#A80036" points="171,1461.7109,161,1465.7109,171,1469.7109,167,1465.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="165" x2="837" y1="1465.7109" y2="1465.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="177" y="1460.8545">LoadEntries()</text><polygon fill="#A80036" points="389,1492.0625,399,1496.0625,389,1500.0625,393,1496.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="160" x2="395" y1="1496.0625" y2="1496.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="167" y="1491.2061">Restart()</text><path d="M66,1511.0625 L139,1511.0625 L139,1519.0625 L129,1529.0625 L66,1529.0625 L66,1511.0625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="145.7578" style="stroke: #000000; stroke-width: 2.0;" width="415" x="66" y="1511.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="81" y="1525.5576">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="221" x="154" y="1524.4814">[loop over events within "ScanWindow"]</text><path d="M90,1534.4141 L90,1560.4141 L471,1560.4141 L471,1544.4141 L461,1534.4141 L90,1534.4141 " fill="#FBFB77" filter="url(#f1rzprloqldbs7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M461,1534.4141 L461,1544.4141 L471,1544.4141 L461,1534.4141 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="188.5" y="1552.9092">read an event from input2 tree</text><polygon fill="#A80036" points="171,1588.1172,161,1592.1172,171,1596.1172,167,1592.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="165" x2="400" y1="1592.1172" y2="1592.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="177" y="1587.2607">GetEntry()</text><path d="M90,1605.1172 L90,1647.1172 L471,1647.1172 L471,1615.1172 L461,1605.1172 L90,1605.1172 " fill="#FBFB77" filter="url(#f1rzprloqldbs7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M461,1605.1172 L461,1615.1172 L471,1615.1172 L461,1605.1172 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="169.5" y="1623.6123">emplace (i_entry, BigRIPSTreeData)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="169.5" y="1639.9639">to the map</text><polygon fill="#A80036" points="826,1682.1719,836,1686.1719,826,1690.1719,830,1686.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="160" x2="832" y1="1686.1719" y2="1686.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="167" y="1681.3154">return a part of ts:i_entry map</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="56" x2="914" y1="1695.1719" y2="1695.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="61" y="1706.5908">[else skip]</text><path d="M471,1722.0078 L471,1748.0078 L898,1748.0078 L898,1732.0078 L888,1722.0078 L471,1722.0078 " fill="#FBFB77" filter="url(#f1rzprloqldbs7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M888,1722.0078 L888,1732.0078 L898,1732.0078 L888,1722.0078 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="592.5" y="1740.5029">read an event from input1 tree</text><polygon fill="#A80036" points="543,1775.7109,533,1779.7109,543,1783.7109,539,1779.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="837" y1="1779.7109" y2="1779.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="549" y="1774.8545">GetEntry()</text><polygon fill="#A80036" points="699,1806.0625,709,1810.0625,699,1814.0625,703,1810.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="705" y1="1810.0625" y2="1810.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="539" y="1805.2061">SetEntry(i)</text><polygon fill="#A80036" points="543,1836.4141,533,1840.4141,543,1844.4141,539,1840.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="537" x2="710" y1="1840.4141" y2="1840.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="549" y="1835.5576">Get()</text><polygon fill="#A80036" points="826,1866.7656,836,1870.7656,826,1874.7656,830,1870.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="532" x2="832" y1="1870.7656" y2="1870.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="539" y="1865.9092">return a PspmtData entry</text><polygon fill="#A80036" points="1142.5,1897.1172,1152.5,1901.1172,1142.5,1905.1172,1146.5,1901.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1148.5" y1="1901.1172" y2="1901.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="855" y="1896.2607">copy PspmtData entry</text><path d="M752,1916.1172 L825,1916.1172 L825,1924.1172 L815,1934.1172 L752,1934.1172 L752,1916.1172 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="205.7813" style="stroke: #000000; stroke-width: 2.0;" width="498" x="752" y="1916.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="767" y="1930.6123">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="297" x="840" y="1929.5361">[loop over the bigrips events within the time window]</text><path d="M762,1941.4688 L823,1941.4688 L823,1949.4688 L813,1959.4688 L762,1959.4688 L762,1941.4688 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="173.4297" style="stroke: #000000; stroke-width: 2.0;" width="478" x="762" y="1941.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="777" y="1955.9639">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="838" y="1954.8877">[if (BetaTreeMerger::IsInGate())]</text><polygon fill="#A80036" points="934,1978.1719,944,1982.1719,934,1986.1719,938,1982.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="940" y1="1982.1719" y2="1982.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="855" y="1977.3154">IsInside()</text><polygon fill="#A80036" points="859,2008.5234,849,2012.5234,859,2016.5234,855,2012.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="853" x2="945" y1="2012.5234" y2="2012.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="865" y="2007.667">true / false</text><path d="M772,2027.5234 L833,2027.5234 L833,2035.5234 L823,2045.5234 L772,2045.5234 L772,2027.5234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="64.5391" style="stroke: #000000; stroke-width: 2.0;" width="458" x="772" y="2027.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="787" y="2042.0186">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="848" y="2040.9424">[if ( YSOMap::IsInGate() )]</text><polygon fill="#A80036" points="1142.5,2064.2266,1152.5,2068.2266,1142.5,2072.2266,1146.5,2068.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1148.5" y1="2068.2266" y2="2068.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="855" y="2063.3701">output_vec_.emplace_back()</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="772" x2="1230" y1="2077.2266" y2="2077.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="777" y="2088.6455">[else continue]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="762" x2="1240" y1="2100.0625" y2="2100.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="767" y="2111.4814">[else continue]</text><path d="M772,2135.8984 L833,2135.8984 L833,2143.8984 L823,2153.8984 L772,2153.8984 L772,2135.8984 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="94.8906" style="stroke: #000000; stroke-width: 2.0;" width="458" x="772" y="2135.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="787" y="2150.3936">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="848" y="2149.3174">[if output_vec_ is NOT empty]</text><polygon fill="#A80036" points="1026.5,2172.6016,1036.5,2176.6016,1026.5,2180.6016,1030.5,2176.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1032.5" y1="2176.6016" y2="2176.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="855" y="2171.7451">Fill()</text><polygon fill="#A80036" points="1059.5,2202.9531,1049.5,2206.9531,1059.5,2210.9531,1055.5,2206.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1053.5" x2="1153.5" y1="2206.9531" y2="2206.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1065.5" y="2202.0967">Filled</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="772" x2="1230" y1="2215.9531" y2="2215.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="777" y="2227.3721">[else continue]</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1150.5" x2="1168.5" y1="2237.7891" y2="2255.7891"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1150.5" x2="1168.5" y1="2255.7891" y2="2237.7891"/><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1267" x="3" y="2283.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="2283.9648" y2="2283.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1270" y1="2286.9648" y2="2286.9648"/><rect fill="#EEEEEE" filter="url(#f1rzprloqldbs7)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="95" x="589" y="2272.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="595" y="2290.2842">Termination</text><polygon fill="#A80036" points="826,2325.4922,836,2329.4922,826,2333.4922,830,2329.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="832" y1="2329.4922" y2="2329.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="49" y="2324.6357">Write()</text><polygon fill="#A80036" points="1031.5,2355.8438,1041.5,2359.8438,1031.5,2363.8438,1035.5,2359.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="1037.5" y1="2359.8438" y2="2359.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="855" y="2354.9873">Write()</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1034.5" x2="1052.5" y1="2350.8438" y2="2368.8438"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1034.5" x2="1052.5" y1="2368.8438" y2="2350.8438"/><polygon fill="#A80036" points="831,2386.1953,841,2390.1953,831,2394.1953,835,2390.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="837" y1="2390.1953" y2="2390.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="2385.3389">Terminate</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="834" x2="852" y1="2381.1953" y2="2399.1953"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="834" x2="852" y1="2399.1953" y2="2381.1953"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="942" x2="960" y1="2381.1953" y2="2399.1953"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="942" x2="960" y1="2399.1953" y2="2381.1953"/><polygon fill="#A80036" points="143,2416.5469,153,2420.5469,143,2424.5469,147,2420.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="149" y1="2420.5469" y2="2420.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="2415.6904">Terminate</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="146" x2="164" y1="2411.5469" y2="2429.5469"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="146" x2="164" y1="2429.5469" y2="2411.5469"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="397" x2="415" y1="2411.5469" y2="2429.5469"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="397" x2="415" y1="2429.5469" y2="2411.5469"/><polygon fill="#A80036" points="515,2446.8984,525,2450.8984,515,2454.8984,519,2450.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="521" y1="2450.8984" y2="2450.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="2446.042">Terminate</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="518" x2="536" y1="2441.8984" y2="2459.8984"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="518" x2="536" y1="2459.8984" y2="2441.8984"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="707" x2="725" y1="2441.8984" y2="2459.8984"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="707" x2="725" y1="2459.8984" y2="2441.8984"/><!--
@startuml
    title sequence diagram for the beta merger

    activate "main()"

    == Scanning merged implant tree ==
    "main()" -> "MergedBetaTSScanor" : Configure()
    activate "MergedBetaTSScanor"
    "MergedBetaTSScanor" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "MergedBetaTSScanor" : read parameters
    destroy "YamlReader"
    "MergedBetaTSScanor" -> "TTreeReader2" : Open
    activate "TTreeReader2"
    "MergedBetaTSScanor" -> "TTreeReader2" : SetEntriesRange()
    "main()" -> "MergedBetaTSScanor" : Scan()
    loop while tree_reader_.Next()
        "MergedBetaTSScanor" -> "TTreeReader2" : GetEntry()
        alt if ( MergedBetaTSScanor::IsInGate() )
            "TTreeReader2" - -> "MergedBetaTSScanor" : GetTS(), GetCurrentEntry()
            note over MergedBetaTSScanor
                emplace (ts, i_entry) pair
                to the map
            end note
        end
    end

    == Scanning Pspmt tree for beta events ==
    "main()" -> "BetaTSScanor" : Configure()
    activate "BetaTSScanor"
    "BetaTSScanor" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "BetaTSScanor" : read parameters
    destroy "YamlReader"
    "BetaTSScanor" -> "TTreeReader1" : Open
    activate "TTreeReader1"
    "BetaTSScanor" -> "TTreeReader1" : SetEntriesRange()
    "main()" -> "BetaTSScanor" : Scan()
    loop while tree_reader_.Next()
        "BetaTSScanor" -> "TTreeReader1" : GetEntry()
        alt if ( BetaTSScanor::IsInGate() )
            "TTreeReader1" - -> "BetaTSScanor" : GetTS(), GetCurrentEntry()
            note over BetaTSScanor
                emplace (ts, i_entry) pair
                to the map
            end note
        end
    end

    == Merging implant events to beta events ==
    "main()" -> "BetaTreeMerger" : create
    activate "BetaTreeMerger"
    "BetaTreeMerger" -> "YSOMap" : create
    activate "YSOMap"
    "YSOMap" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "YSOMap" : read parameters
    destroy "YamlReader"
    note over YSOMap
        creates a vector of
        YSOPositionData
        for all the segments
    end note
    "BetaTreeMerger" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "BetaTreeMerger" : read parameters
    destroy "YamlReader"
    "BetaTreeMerger" -> "OutputTree" : Create
    activate "OutputTree"
    "BetaTreeMerger" -> "OutputTree" : Branch()
    "main()" -> "BetaTreeMerger" : Merge()
    "BetaTreeMerger" -> "BetaTSScanor" : SetBranchAddress()
    "BetaTreeMerger" -> "BetaTSScanor" : map1 = GetIEntryMap()
    "BetaTSScanor" - -> "BetaTreeMerger" : Give the ts:i_entry map 
    loop loop over the pspmt implant events (input1)
        alt if map2 buffer is empty, read all entries in the next \n"ScanWindow" from the input2 tree
            "BetaTreeMerger" -> "MergedBetaTSScanor" : LoadEntries()
            "MergedBetaTSScanor" -> "TTreeReader2" : Restart()
            loop loop over events within "ScanWindow"
                note over MergedBetaTSScanor, TTreeReader2
                    read an event from input2 tree
                end note
                "TTreeReader2" - -> "MergedBetaTSScanor" : GetEntry()
                note over MergedBetaTSScanor, TTreeReader2
                    emplace (i_entry, BigRIPSTreeData)
                    to the map
                end note
            end
            "MergedBetaTSScanor" - -> "BetaTreeMerger" : return a part of ts:i_entry map
        else else skip
        end
        note over BetaTSScanor, BetaTreeMerger
            read an event from input1 tree
        end note
        "BetaTreeMerger" -> "BetaTSScanor" : GetEntry()
        "BetaTSScanor" -> "TTreeReader1" : SetEntry(i)
        "TTreeReader1" - -> "BetaTSScanor" : Get()
        "BetaTSScanor" - -> "BetaTreeMerger" : return a PspmtData entry
        "BetaTreeMerger" -> "OutputTreeData" : copy PspmtData entry
        activate "OutputTreeData"
        loop loop over the bigrips events within the time window
            alt if (BetaTreeMerger::IsInGate())
                "BetaTreeMerger" -> "YSOMap" : IsInside()
                "YSOMap" - -> "BetaTreeMerger" : true / false
                alt if ( YSOMap::IsInGate() )
                    "BetaTreeMerger" -> "OutputTreeData" : output_vec_.emplace_back()
                else else continue
                end
            else else continue
            end
        end
        alt if output_vec_ is NOT empty
            "BetaTreeMerger" -> "OutputTree" : Fill()
            "OutputTreeData" - -> "OutputTree" : Filled
        else else continue
        end
        destroy "OutputTreeData"
    end
    == Termination ==
    "main()" -> "BetaTreeMerger" : Write()
    "BetaTreeMerger" -> "OutputTree" : Write()
    destroy "OutputTree"
    "main()" -> "BetaTreeMerger" : Terminate
    destroy "BetaTreeMerger"
    destroy "YSOMap"
    "main()" -> "MergedBetaTSScanor" : Terminate
    destroy "MergedBetaTSScanor"
    destroy "TTreeReader2"
    "main()" -> "BetaTSScanor" : Terminate
    destroy "BetaTSScanor"
    destroy "TTreeReader1"
@enduml

PlantUML version 1.2019.09(Mon Aug 26 12:19:51 EDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_241-b07
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>