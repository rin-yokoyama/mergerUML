<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2237px" preserveAspectRatio="none" style="width:1170px;height:2237px;" version="1.1" viewBox="0 0 1170 2237" width="1170px" zoomAndPan="magnify"><defs><filter height="300%" id="f105fn00n2rtfi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="435" y="24.5332">sequence diagram for the implant merger</text><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="2105.6797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="32" y="81.2188"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1999.625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="137" y="147.9219"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="265" y="178.2734"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="265" y="586.8438"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="265" y="995.4141"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1908.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="238.9766"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1621.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="508" y="556.4922"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1530.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697" y="647.5469"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1152.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="809.5" y="965.0625"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1030.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="1056.1172"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="227.7813" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1027.5" y="1737.0078"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="423" x="37" y="314.6797"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="403" x="47" y="370.3828"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="370" x="408" y="723.25"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="350" x="418" y="778.9531"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="759.9141" style="stroke: #000000; stroke-width: 2.0;" width="1102" x="46" y="1222.875"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="297.6719" style="stroke: #000000; stroke-width: 2.0;" width="815" x="56" y="1248.2266"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="145.7578" style="stroke: #000000; stroke-width: 2.0;" width="386" x="66" y="1346.9531"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="815" x="56" y="1530.0625"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="96.8906" style="stroke: #000000; stroke-width: 2.0;" width="390" x="748" y="1752.0078"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="64.5391" style="stroke: #000000; stroke-width: 2.0;" width="345" x="758" y="1777.3594"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="345" x="758" y="1826.0625"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="94.8906" style="stroke: #000000; stroke-width: 2.0;" width="345" x="758" y="1862.8984"/><rect fill="#FFFFFF" height="15.8359" style="stroke: none; stroke-width: 1.0;" width="345" x="758" y="1941.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="142" x2="142" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="270" x2="270" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="384" x2="384" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="513" x2="513" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="702" x2="702" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="814" x2="814" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="916" x2="916" y1="71.2188" y2="2195.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1032" x2="1032" y1="71.2188" y2="2195.8984"/><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="8" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="15" y="56.1426">main()</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="8" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="15" y="2216.4316">main()</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="76" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="83" y="56.1426">BigRIPSTSScanor</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="76" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="83" y="2216.4316">BigRIPSTSScanor</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="222" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="229" y="56.1426">YamlReader</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="222" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="229" y="2216.4316">YamlReader</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="328" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="335" y="56.1426">TTreeReader2</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="328" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="335" y="2216.4316">TTreeReader2</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="450" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="457" y="56.1426">ImplantTSScanor</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="450" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="457" y="2216.4316">ImplantTSScanor</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="646" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="653" y="56.1426">TTreeReader1</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="646" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="653" y="2216.4316">TTreeReader1</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="768" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="775" y="56.1426">TreeMerger</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="768" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="775" y="2216.4316">TreeMerger</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="871" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="878" y="56.1426">OutputTree</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="871" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="878" y="2216.4316">OutputTree</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="972" y="34.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="979" y="56.1426">OutputTreeData</text><rect fill="#FEFECE" filter="url(#f105fn00n2rtfi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="972" y="2194.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="979" y="2216.4316">OutputTreeData</text><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="2105.6797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="32" y="81.2188"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1999.625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="137" y="147.9219"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="265" y="178.2734"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="265" y="586.8438"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="265" y="995.4141"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1908.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="238.9766"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1621.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="508" y="556.4922"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1530.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697" y="647.5469"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1152.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="809.5" y="965.0625"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="1030.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="1056.1172"/><rect fill="#FFFFFF" filter="url(#f105fn00n2rtfi)" height="227.7813" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1027.5" y="1737.0078"/><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1155" x="3" y="102.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="102.3945" y2="102.3945"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="105.3945" y2="105.3945"/><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="163" x="499" y="91.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="505" y="108.7139">Scanning BigRIPS tree</text><polygon fill="#A80036" points="125,143.9219,135,147.9219,125,151.9219,129,147.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="131" y1="147.9219" y2="147.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="49" y="143.0654">Configure()</text><polygon fill="#A80036" points="253,174.2734,263,178.2734,253,182.2734,257,178.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="259" y1="178.2734" y2="178.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="154" y="173.417">create</text><polygon fill="#A80036" points="158,204.625,148,208.625,158,212.625,154,208.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="269" y1="208.625" y2="208.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="164" y="203.7686">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="261" x2="279" y1="199.625" y2="217.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="261" x2="279" y1="217.625" y2="199.625"/><polygon fill="#A80036" points="367,234.9766,377,238.9766,367,242.9766,371,238.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="373" y1="238.9766" y2="238.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="154" y="234.1201">Open</text><polygon fill="#A80036" points="367,265.3281,377,269.3281,367,273.3281,371,269.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="373" y1="269.3281" y2="269.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="154" y="264.4717">SetEntriesRange()</text><polygon fill="#A80036" points="125,295.6797,135,299.6797,125,303.6797,129,299.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="131" y1="299.6797" y2="299.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="49" y="294.8232">Scan()</text><path d="M37,314.6797 L110,314.6797 L110,322.6797 L100,332.6797 L37,332.6797 L37,314.6797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="423" x="37" y="314.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="52" y="329.1748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="125" y="328.0986">[while tree_reader_.Next()]</text><polygon fill="#A80036" points="367,351.3828,377,355.3828,367,359.3828,371,355.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="373" y1="355.3828" y2="355.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="154" y="350.5264">GetEntry()</text><path d="M47,370.3828 L108,370.3828 L108,378.3828 L98,388.3828 L47,388.3828 L47,370.3828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="403" x="47" y="370.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="62" y="384.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="123" y="383.8018">[if ( BigRIPSTSScanor::IsInGate() )]</text><polygon fill="#A80036" points="158,407.0859,148,411.0859,158,415.0859,154,411.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="378" y1="411.0859" y2="411.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="164" y="406.2295">GetTS(), GetCurrentEntry()</text><path d="M57,424.0859 L57,466.0859 L222,466.0859 L222,434.0859 L212,424.0859 L57,424.0859 " fill="#FBFB77" filter="url(#f105fn00n2rtfi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,424.0859 L212,434.0859 L222,434.0859 L212,424.0859 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="63" y="442.5811">emplace (ts, i_entry) pair</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="63" y="458.9326">to the map</text><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1155" x="3" y="510.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="510.9648" y2="510.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="513.9648" y2="513.9648"/><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="268" x="446.5" y="499.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="250" x="452.5" y="517.2842">Scanning Pspmt tree for implant events</text><polygon fill="#A80036" points="496,552.4922,506,556.4922,496,560.4922,500,556.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="502" y1="556.4922" y2="556.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="49" y="551.6357">Configure()</text><polygon fill="#A80036" points="286,582.8438,276,586.8438,286,590.8438,282,586.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="280" x2="507" y1="586.8438" y2="586.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="292" y="581.9873">create</text><polygon fill="#A80036" points="496,613.1953,506,617.1953,496,621.1953,500,617.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="502" y1="617.1953" y2="617.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="277" y="612.3389">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="261" x2="279" y1="608.1953" y2="626.1953"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="261" x2="279" y1="626.1953" y2="608.1953"/><polygon fill="#A80036" points="685,643.5469,695,647.5469,685,651.5469,689,647.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="691" y1="647.5469" y2="647.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="525" y="642.6904">Open</text><polygon fill="#A80036" points="685,673.8984,695,677.8984,685,681.8984,689,677.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="691" y1="677.8984" y2="677.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="525" y="673.042">SetEntriesRange()</text><polygon fill="#A80036" points="496,704.25,506,708.25,496,712.25,500,708.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="502" y1="708.25" y2="708.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="49" y="703.3936">Scan()</text><path d="M408,723.25 L481,723.25 L481,731.25 L471,741.25 L408,741.25 L408,723.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="168.1094" style="stroke: #000000; stroke-width: 2.0;" width="370" x="408" y="723.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="423" y="737.7451">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="496" y="736.6689">[while tree_reader_.Next()]</text><polygon fill="#A80036" points="685,759.9531,695,763.9531,685,767.9531,689,763.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="691" y1="763.9531" y2="763.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="525" y="759.0967">GetEntry()</text><path d="M418,778.9531 L479,778.9531 L479,786.9531 L469,796.9531 L418,796.9531 L418,778.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.4063" style="stroke: #000000; stroke-width: 2.0;" width="350" x="418" y="778.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="433" y="793.4482">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="494" y="792.3721">[if ( ImplantTSScanor::IsInGate() )]</text><polygon fill="#A80036" points="529,815.6563,519,819.6563,529,823.6563,525,819.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="523" x2="696" y1="819.6563" y2="819.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="535" y="814.7998">GetTS(), GetCurrentEntry()</text><path d="M428,832.6563 L428,874.6563 L593,874.6563 L593,842.6563 L583,832.6563 L428,832.6563 " fill="#FBFB77" filter="url(#f105fn00n2rtfi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M583,832.6563 L583,842.6563 L593,842.6563 L583,832.6563 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="434" y="851.1514">emplace (ts, i_entry) pair</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="434" y="867.5029">to the map</text><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1155" x="3" y="919.5352"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="919.5352" y2="919.5352"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="922.5352" y2="922.5352"/><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="284" x="438.5" y="908.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="266" x="444.5" y="925.8545">Merging BigRIPS events to implant events</text><polygon fill="#A80036" points="797.5,961.0625,807.5,965.0625,797.5,969.0625,801.5,965.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="803.5" y1="965.0625" y2="965.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="49" y="960.2061">Configure()</text><polygon fill="#A80036" points="286,991.4141,276,995.4141,286,999.4141,282,995.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="280" x2="808.5" y1="995.4141" y2="995.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="292" y="990.5576">create</text><polygon fill="#A80036" points="797.5,1021.7656,807.5,1025.7656,797.5,1029.7656,801.5,1025.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="270" x2="803.5" y1="1025.7656" y2="1025.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="277" y="1020.9092">read parameters</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="261" x2="279" y1="1016.7656" y2="1034.7656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="261" x2="279" y1="1034.7656" y2="1016.7656"/><polygon fill="#A80036" points="899.5,1052.1172,909.5,1056.1172,899.5,1060.1172,903.5,1056.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="819.5" x2="905.5" y1="1056.1172" y2="1056.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="826.5" y="1051.2607">Create</text><polygon fill="#A80036" points="899.5,1082.4688,909.5,1086.4688,899.5,1090.4688,903.5,1086.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="819.5" x2="905.5" y1="1086.4688" y2="1086.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="826.5" y="1081.6123">Branch()</text><polygon fill="#A80036" points="797.5,1112.8203,807.5,1116.8203,797.5,1120.8203,801.5,1116.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="803.5" y1="1116.8203" y2="1116.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="49" y="1111.9639">Merge()</text><polygon fill="#A80036" points="529,1143.1719,519,1147.1719,529,1151.1719,525,1147.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="523" x2="808.5" y1="1147.1719" y2="1147.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="535" y="1142.3154">SetBranchAddress()</text><polygon fill="#A80036" points="529,1173.5234,519,1177.5234,529,1181.5234,525,1177.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="523" x2="808.5" y1="1177.5234" y2="1177.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="535" y="1172.667">map1 = GetIEntryMap()</text><polygon fill="#A80036" points="797.5,1203.875,807.5,1207.875,797.5,1211.875,801.5,1207.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="518" x2="803.5" y1="1207.875" y2="1207.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="525" y="1203.0186">Give the ts:i_entry map</text><path d="M46,1222.875 L119,1222.875 L119,1230.875 L109,1240.875 L46,1240.875 L46,1222.875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="759.9141" style="stroke: #000000; stroke-width: 2.0;" width="1102" x="46" y="1222.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="61" y="1237.3701">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="250" x="134" y="1236.2939">[loop over the pspmt implant events (input1)]</text><path d="M56,1248.2266 L117,1248.2266 L117,1256.2266 L107,1266.2266 L56,1266.2266 L56,1248.2266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="297.6719" style="stroke: #000000; stroke-width: 2.0;" width="815" x="56" y="1248.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="71" y="1262.7217">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="282" x="132" y="1261.6455">[if map2 buffer is empty, read all entries in the next</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="132" y="1275.4814">"ScanWindow" from the input2 tree]</text><polygon fill="#A80036" points="158,1297.6016,148,1301.6016,158,1305.6016,154,1301.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="808.5" y1="1301.6016" y2="1301.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="164" y="1296.7451">LoadEntries()</text><polygon fill="#A80036" points="367,1327.9531,377,1331.9531,367,1335.9531,371,1331.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="373" y1="1331.9531" y2="1331.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="154" y="1327.0967">Restart()</text><path d="M66,1346.9531 L139,1346.9531 L139,1354.9531 L129,1364.9531 L66,1364.9531 L66,1346.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="145.7578" style="stroke: #000000; stroke-width: 2.0;" width="386" x="66" y="1346.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="81" y="1361.4482">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="221" x="154" y="1360.3721">[loop over events within "ScanWindow"]</text><path d="M83,1370.3047 L83,1396.3047 L442,1396.3047 L442,1380.3047 L432,1370.3047 L83,1370.3047 " fill="#FBFB77" filter="url(#f105fn00n2rtfi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M432,1370.3047 L432,1380.3047 L442,1380.3047 L432,1370.3047 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="170.5" y="1388.7998">read an event from input2 tree</text><polygon fill="#A80036" points="158,1424.0078,148,1428.0078,158,1432.0078,154,1428.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="378" y1="1428.0078" y2="1428.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="164" y="1423.1514">GetEntry()</text><path d="M83,1441.0078 L83,1483.0078 L442,1483.0078 L442,1451.0078 L432,1441.0078 L83,1441.0078 " fill="#FBFB77" filter="url(#f105fn00n2rtfi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M432,1441.0078 L432,1451.0078 L442,1451.0078 L432,1441.0078 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="151.5" y="1459.5029">emplace (i_entry, BigRIPSTreeData)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="151.5" y="1475.8545">to the map</text><polygon fill="#A80036" points="797.5,1518.0625,807.5,1522.0625,797.5,1526.0625,801.5,1522.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="147" x2="803.5" y1="1522.0625" y2="1522.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="154" y="1517.2061">return a part of ts:i_entry map</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="56" x2="871" y1="1531.0625" y2="1531.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="61" y="1542.4814">[else skip]</text><path d="M460,1557.8984 L460,1583.8984 L866,1583.8984 L866,1567.8984 L856,1557.8984 L460,1557.8984 " fill="#FBFB77" filter="url(#f105fn00n2rtfi)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M856,1557.8984 L856,1567.8984 L866,1567.8984 L856,1557.8984 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="571" y="1576.3936">read an event from input1 tree</text><polygon fill="#A80036" points="529,1611.6016,519,1615.6016,529,1619.6016,525,1615.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="523" x2="808.5" y1="1615.6016" y2="1615.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="535" y="1610.7451">GetEntry()</text><polygon fill="#A80036" points="685,1641.9531,695,1645.9531,685,1649.9531,689,1645.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="518" x2="691" y1="1645.9531" y2="1645.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="525" y="1641.0967">SetEntry(i)</text><polygon fill="#A80036" points="529,1672.3047,519,1676.3047,529,1680.3047,525,1676.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="523" x2="696" y1="1676.3047" y2="1676.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="535" y="1671.4482">Get()</text><polygon fill="#A80036" points="797.5,1702.6563,807.5,1706.6563,797.5,1710.6563,801.5,1706.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="518" x2="803.5" y1="1706.6563" y2="1706.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="525" y="1701.7998">return a PspmtData entry</text><polygon fill="#A80036" points="1015.5,1733.0078,1025.5,1737.0078,1015.5,1741.0078,1019.5,1737.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="819.5" x2="1021.5" y1="1737.0078" y2="1737.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="826.5" y="1732.1514">copy PspmtData entry</text><path d="M748,1752.0078 L821,1752.0078 L821,1760.0078 L811,1770.0078 L748,1770.0078 L748,1752.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="96.8906" style="stroke: #000000; stroke-width: 2.0;" width="390" x="748" y="1752.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="763" y="1766.5029">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="297" x="836" y="1765.4268">[loop over the bigrips events within the time window]</text><path d="M758,1777.3594 L819,1777.3594 L819,1785.3594 L809,1795.3594 L758,1795.3594 L758,1777.3594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="64.5391" style="stroke: #000000; stroke-width: 2.0;" width="345" x="758" y="1777.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="773" y="1791.8545">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="834" y="1790.7783">[if (TreeMerger::IsInGate())]</text><polygon fill="#A80036" points="1015.5,1814.0625,1025.5,1818.0625,1015.5,1822.0625,1019.5,1818.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="819.5" x2="1021.5" y1="1818.0625" y2="1818.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="826.5" y="1813.2061">output_vec_.emplace_back()</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="758" x2="1103" y1="1827.0625" y2="1827.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="763" y="1838.4814">[else continue]</text><path d="M758,1862.8984 L819,1862.8984 L819,1870.8984 L809,1880.8984 L758,1880.8984 L758,1862.8984 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="94.8906" style="stroke: #000000; stroke-width: 2.0;" width="345" x="758" y="1862.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="773" y="1877.3936">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="834" y="1876.3174">[if output_vec_ is NOT empty]</text><polygon fill="#A80036" points="899.5,1899.6016,909.5,1903.6016,899.5,1907.6016,903.5,1903.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="819.5" x2="905.5" y1="1903.6016" y2="1903.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="826.5" y="1898.7451">Fill()</text><polygon fill="#A80036" points="932.5,1929.9531,922.5,1933.9531,932.5,1937.9531,928.5,1933.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="926.5" x2="1026.5" y1="1933.9531" y2="1933.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="938.5" y="1929.0967">Filled</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="758" x2="1103" y1="1942.9531" y2="1942.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="763" y="1954.3721">[else continue]</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1023.5" x2="1041.5" y1="1964.7891" y2="1982.7891"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1023.5" x2="1041.5" y1="1982.7891" y2="1964.7891"/><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1155" x="3" y="2010.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="2010.9648" y2="2010.9648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1158" y1="2013.9648" y2="2013.9648"/><rect fill="#EEEEEE" filter="url(#f105fn00n2rtfi)" height="24.3516" style="stroke: #000000; stroke-width: 2.0;" width="95" x="533" y="1999.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="539" y="2017.2842">Termination</text><polygon fill="#A80036" points="797.5,2052.4922,807.5,2056.4922,797.5,2060.4922,801.5,2056.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="803.5" y1="2056.4922" y2="2056.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="49" y="2051.6357">Write()</text><polygon fill="#A80036" points="904.5,2082.8438,914.5,2086.8438,904.5,2090.8438,908.5,2086.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="819.5" x2="910.5" y1="2086.8438" y2="2086.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="826.5" y="2081.9873">Write()</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="907.5" x2="925.5" y1="2077.8438" y2="2095.8438"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="907.5" x2="925.5" y1="2095.8438" y2="2077.8438"/><polygon fill="#A80036" points="802.5,2113.1953,812.5,2117.1953,802.5,2121.1953,806.5,2117.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="808.5" y1="2117.1953" y2="2117.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="2112.3389">Terminate</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="805.5" x2="823.5" y1="2108.1953" y2="2126.1953"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="805.5" x2="823.5" y1="2126.1953" y2="2108.1953"/><polygon fill="#A80036" points="130,2143.5469,140,2147.5469,130,2151.5469,134,2147.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="136" y1="2147.5469" y2="2147.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="2142.6904">Terminate</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="133" x2="151" y1="2138.5469" y2="2156.5469"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="133" x2="151" y1="2156.5469" y2="2138.5469"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="375" x2="393" y1="2138.5469" y2="2156.5469"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="375" x2="393" y1="2156.5469" y2="2138.5469"/><polygon fill="#A80036" points="501,2173.8984,511,2177.8984,501,2181.8984,505,2177.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="507" y1="2177.8984" y2="2177.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="49" y="2173.042">Terminate</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="504" x2="522" y1="2168.8984" y2="2186.8984"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="504" x2="522" y1="2186.8984" y2="2168.8984"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="693" x2="711" y1="2168.8984" y2="2186.8984"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="693" x2="711" y1="2186.8984" y2="2168.8984"/><!--
@startuml
    title sequence diagram for the implant merger

    activate "main()"

    == Scanning BigRIPS tree ==
    "main()" -> "BigRIPSTSScanor" : Configure()
    activate "BigRIPSTSScanor"
    "BigRIPSTSScanor" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "BigRIPSTSScanor" : read parameters
    destroy "YamlReader"
    "BigRIPSTSScanor" -> "TTreeReader2" : Open
    activate "TTreeReader2"
    "BigRIPSTSScanor" -> "TTreeReader2" : SetEntriesRange()
    "main()" -> "BigRIPSTSScanor" : Scan()
    loop while tree_reader_.Next()
        "BigRIPSTSScanor" -> "TTreeReader2" : GetEntry()
        alt if ( BigRIPSTSScanor::IsInGate() )
            "TTreeReader2" - -> "BigRIPSTSScanor" : GetTS(), GetCurrentEntry()
            note over BigRIPSTSScanor
                emplace (ts, i_entry) pair
                to the map
            end note
        end
    end

    == Scanning Pspmt tree for implant events ==
    "main()" -> "ImplantTSScanor" : Configure()
    activate "ImplantTSScanor"
    "ImplantTSScanor" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "ImplantTSScanor" : read parameters
    destroy "YamlReader"
    "ImplantTSScanor" -> "TTreeReader1" : Open
    activate "TTreeReader1"
    "ImplantTSScanor" -> "TTreeReader1" : SetEntriesRange()
    "main()" -> "ImplantTSScanor" : Scan()
    loop while tree_reader_.Next()
        "ImplantTSScanor" -> "TTreeReader1" : GetEntry()
        alt if ( ImplantTSScanor::IsInGate() )
            "TTreeReader1" - -> "ImplantTSScanor" : GetTS(), GetCurrentEntry()
            note over ImplantTSScanor
                emplace (ts, i_entry) pair
                to the map
            end note
        end
    end

    == Merging BigRIPS events to implant events ==
    "main()" -> "TreeMerger" : Configure()
    activate "TreeMerger"
    "TreeMerger" -> "YamlReader" : create
    activate "YamlReader"
    "YamlReader" - -> "TreeMerger" : read parameters
    destroy "YamlReader"
    "TreeMerger" -> "OutputTree" : Create
    activate "OutputTree"
    "TreeMerger" -> "OutputTree" : Branch()
    "main()" -> "TreeMerger" : Merge()
    "TreeMerger" -> "ImplantTSScanor" : SetBranchAddress()
    "TreeMerger" -> "ImplantTSScanor" : map1 = GetIEntryMap()
    "ImplantTSScanor" - -> "TreeMerger" : Give the ts:i_entry map 
    loop loop over the pspmt implant events (input1)
        alt if map2 buffer is empty, read all entries in the next \n"ScanWindow" from the input2 tree
            "TreeMerger" -> "BigRIPSTSScanor" : LoadEntries()
            "BigRIPSTSScanor" -> "TTreeReader2" : Restart()
            loop loop over events within "ScanWindow"
                note over BigRIPSTSScanor, TTreeReader2
                    read an event from input2 tree
                end note
                "TTreeReader2" - -> "BigRIPSTSScanor" : GetEntry()
                note over BigRIPSTSScanor, TTreeReader2
                    emplace (i_entry, BigRIPSTreeData)
                    to the map
                end note
            end
            "BigRIPSTSScanor" - -> "TreeMerger" : return a part of ts:i_entry map
        else else skip
        end
        note over ImplantTSScanor, TreeMerger
            read an event from input1 tree
        end note
        "TreeMerger" -> "ImplantTSScanor" : GetEntry()
        "ImplantTSScanor" -> "TTreeReader1" : SetEntry(i)
        "TTreeReader1" - -> "ImplantTSScanor" : Get()
        "ImplantTSScanor" - -> "TreeMerger" : return a PspmtData entry
        "TreeMerger" -> "OutputTreeData" : copy PspmtData entry
        activate "OutputTreeData"
        loop loop over the bigrips events within the time window
            alt if (TreeMerger::IsInGate())
                "TreeMerger" -> "OutputTreeData" : output_vec_.emplace_back()
            else else continue
            end
        end
        alt if output_vec_ is NOT empty
            "TreeMerger" -> "OutputTree" : Fill()
            "OutputTreeData" - -> "OutputTree" : Filled
        else else continue
        end
        destroy "OutputTreeData"
    end
    == Termination ==
    "main()" -> "TreeMerger" : Write()
    "TreeMerger" -> "OutputTree" : Write()
    destroy "OutputTree"
    "main()" -> "TreeMerger" : Terminate
    destroy "TreeMerger"
    "main()" -> "BigRIPSTSScanor" : Terminate
    destroy "BigRIPSTSScanor"
    destroy "TTreeReader2"
    "main()" -> "ImplantTSScanor" : Terminate
    destroy "ImplantTSScanor"
    destroy "TTreeReader1"
@enduml

PlantUML version 1.2019.09(Mon Aug 26 12:19:51 EDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_241-b07
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>